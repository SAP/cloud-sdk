<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs-js docs-version-v1 docs-doc-page docs-doc-id-features/connectivity/destinations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Destinations | SAP Cloud SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sap.github.io/cloud-sdk/docs/js/v1/features/connectivity/destinations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-js-v1"><meta data-rh="true" name="docsearch:version" content="v1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-js-v1"><meta data-rh="true" property="og:title" content="Destinations | SAP Cloud SDK"><meta data-rh="true" name="description" content="This article describes how destinations are fetched in the SDK and how they can be configured."><meta data-rh="true" property="og:description" content="This article describes how destinations are fetched in the SDK and how they can be configured."><meta data-rh="true" name="keywords" content="sap,cloud,sdk,destination,connectivity,JavaScript,TypeScript"><link data-rh="true" rel="icon" href="/cloud-sdk/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sap.github.io/cloud-sdk/docs/js/v1/features/connectivity/destinations"><link data-rh="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/js/v1/features/connectivity/destinations" hreflang="en"><link data-rh="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/js/v1/features/connectivity/destinations" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://E4A268JVO0-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="SAP Cloud SDK" href="/cloud-sdk/opensearch.xml"><link rel="stylesheet" href="/cloud-sdk/assets/css/styles.4f38bef3.css">
<script src="/cloud-sdk/assets/js/runtime~main.f0732375.js" defer="defer"></script>
<script src="/cloud-sdk/assets/js/main.c4b78ac6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-color-primary-contrast-foreground)" role="banner"><div class="content_knG7 announcementBarContent_xLdY">How do you like the SAP Cloud SDK? Share your <a href="https://sapinsights.eu.qualtrics.com/jfe/form/SV_0P69X6kJ0Pdxqbc" style="color: var(--ifm-link-color);text-decoration: var(--ifm-link-decoration);transition: color var(--ifm-transition-fast) var(--ifm-transition-timing-default)">feedback</a>.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud-sdk/"><div class="navbar__logo"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SAP Cloud SDK</b></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Overview</a><a class="navbar__item navbar__link" docspluginid="docs-java" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">â˜• Java</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docspluginid="docs-js" href="/cloud-sdk/docs/js/overview">ðŸš€ JavaScript</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/cloud-sdk/docs/js/v1/features/connectivity/destinations">v1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cloud-sdk/docs/js/v4/features/connectivity/destinations">v4</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/js/features/connectivity/destinations">v3</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/js/v2/features/connectivity/destinations">v2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cloud-sdk/docs/js/v1/features/connectivity/destinations">v1</a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/js/v1/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/js/v1/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cloud-sdk/docs/js/v1/features/odata/overview">Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud-sdk/docs/js/v1/features/odata/overview">OData</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/destinations">Connectivity</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/destinations">Destinations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/destination-cache">Destination Cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/proxies">Proxies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/http-client">Generic HTTP Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/connectivity/on-premise">On-Premise Systems</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cloud-sdk/docs/js/v1/features/openapi/overview">OpenAPI</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/error-handling">Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/logging">Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/v1/features/eslint-configuration">Shared ESLint configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/js/v1/guides/kubernetes">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/js/v1/release-policy">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/js/v1/video/calm">Video Tutorials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="/cloud-sdk/api/v1/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/js/v1/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/js/v1/frequently-asked-questions">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->SAP Cloud SDK<!-- --> <b>v1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/cloud-sdk/docs/js/features/connectivity/destinations">latest version</a></b> (<!-- -->v3<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cloud-sdk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Features</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Connectivity</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Destinations</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Destinations</h1></header><p>Many applications on SAP Business Technology Platform (SAP BTP) communicate with other systems, e.g. line of business solutions.
SAP BTP provides the concept of <em>destinations</em> for convenient communication between SAP BTP and other systems.
A destination is an object with the following information, among others:</p>
<ul>
<li>URL</li>
<li>authentication configuration</li>
<li><a href="/cloud-sdk/docs/js/v1/features/connectivity/proxies">proxy settings</a></li>
</ul>
<p>Destinations are managed separately from applications on SAP BTP and can be retrieved through the destination service at runtime.
The reasons to separate destinations and the application are manifold:</p>
<ul>
<li>You can securely store authentication information that should not be part of the application code.</li>
<li>You can update resource locations without touching the application code.</li>
<li>Different customers may want to configure different systems.</li>
<li>Multiple applications might want to access the same systems.</li>
</ul>
<p>The SAP Cloud SDK helps you to authenticate against the destination service and retrieve destinations into your application.</p>
<p>The SAP Cloud SDK supports <a href="/cloud-sdk/docs/js/v1/features/odata/overview">OData</a> and <a href="/cloud-sdk/docs/js/v1/features/openapi/overview">OpenApi</a> services.
For both service types, the <code>execute()</code> method triggers a request to a target system.
For OData services, you can invoke the method as:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> responseOData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myDestination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Similarly for OpenAPI:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> responseOpenApi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> MyApi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">myFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myDestination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>myDestination</code> is an SAP Cloud SDK representation of a <a href="/cloud-sdk/api/v1/interfaces/sap_cloud_sdk_core.Destination.html" target="_blank" rel="noopener noreferrer">destination</a>.
The given request is executed against <code>myDestination</code>.</p>
<p>For the rest of the document, we will discuss the different options on destination lookup.
All statements equally apply to OData and OpenAPI-based services.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-destinations-manually">Creating Destinations Manually<a href="#creating-destinations-manually" class="hash-link" aria-label="Direct link to Creating Destinations Manually" title="Direct link to Creating Destinations Manually">â€‹</a></h2>
<p>You can construct a destination object manually and pass the destination information directly to the <code>execute()</code> method.
The minimal requirement towards a manually constructed destination is that you provide a <code>url</code>.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://example.com&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This, however, is not recommended for productive use as you would lose the benefits of separating destinations from applications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-destinations-by-name">Referencing Destinations by Name<a href="#referencing-destinations-by-name" class="hash-link" aria-label="Direct link to Referencing Destinations by Name" title="Direct link to Referencing Destinations by Name">â€‹</a></h2>
<p>Instead of defining your destination manually, you can reference it by a name:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;myDestination&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The SAP Cloud SDK searches for the destination by its name in the following locations and the following order:</p>
<ol>
<li>local environment variables</li>
<li>register a destination in the SAP Cloud SDK</li>
<li>service binding environment variables</li>
<li>SAP BTP&#x27;s destination service</li>
</ol>
<p>The search stops, once a destination is found.
Therefore, if a destination with the same name exists in multiple locations, the destination that occurs earliest during the search takes precedence over other destinations with the same name.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The second option <code>register a destination</code> was introduced in version 2.0 of the SAP Cloud SDK.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-environment-variable">Local Environment Variable<a href="#local-environment-variable" class="hash-link" aria-label="Direct link to Local Environment Variable" title="Direct link to Local Environment Variable">â€‹</a></h3>
<p>This option is present for deployment and testing in a local environment outside the SAP BTP where no destination services are available.
If a <code>destinations</code> environment variable is present, it will be used for the destination lookup as described above.
The value is expected to be a stringified JSON array, where the items adhere to the <a href="/cloud-sdk/api/v1/interfaces/sap_cloud_sdk_core.Destination.html" target="_blank" rel="noopener noreferrer">destination interface</a>.
Example: <code>&quot;[{\&quot;name\&quot;: \&quot;TESTINATION\&quot;, \&quot;url\&quot;: \&quot;http://url.hana.ondemand.com\&quot;, \&quot;username\&quot;: \&quot;DUMMY\&quot;, \&quot;password\&quot;: \&quot;dummy\&quot;}]&quot;</code>.</p>
<p>The SAP Cloud SDK provides a <code>setTestDestination(destination)</code> function to add a destination to the environment variable for the current process programmatically.
It takes a <a href="/cloud-sdk/api/v1/interfaces/sap_cloud_sdk_core.Destination.html" target="_blank" rel="noopener noreferrer">destination object</a>, transforms it to a JSON object, and adds it to <code>process.env.destinations</code>.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> setTestDestination </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@sap-cloud-sdk/test-util&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setTestDestination</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  authentication</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NoAuthentication&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;TESTINATION&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isTrustingAllCertificates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://mys4hana.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This would set a destination with the name <code>TESTINATION</code>.
At runtime, the SAP Cloud SDK will check the environment variable for a destination with the given name and use it if present.
Note that the SAP Cloud SDK also offers a <code>mockTestDestination()</code> method, which reads in a <code>systems.json</code> and <code>credentials.json</code> to create destinations.
The advantage of files is that they can be excluded from the repository since they contain sensitive information.</p>
<p>Note that this approach is not suitable for multi-tenant scenarios, because only the destination service can return destinations for different tenants.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="register-destination-via-the-sap-cloud-sdk">Register Destination via the SAP Cloud SDK<a href="#register-destination-via-the-sap-cloud-sdk" class="hash-link" aria-label="Direct link to Register Destination via the SAP Cloud SDK" title="Direct link to Register Destination via the SAP Cloud SDK">â€‹</a></h3>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>This functionality was introduced in version 2.0 of the SAP Cloud SDK.</p></div></div>
<p>Usually, the destination service should be used in production to fetch a destination, including an authentication token.
In the case of frequent service-to-service communication, requesting the destination service every time for a target-specific <code>JWT</code> would mean a big overhead.
Also in cases where the destination needs no authentication at all the detour over the destination service is sometimes not desirable.
A solution for such use-cases is registering your destination in the SAP Cloud SDK cache:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> registerDestination </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@sap-cloud-sdk/core&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> destination </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MY-DESTINATION&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://mys4hana.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">registerDestination</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MyRequest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MY-DESTINATION&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If a registered destination is found, the lookup is stopped, and the call to the destination service is avoided.
You can register a full destination object, including authentication, but we do not recommend storing authentication information in the registered destination.</p>
<p>Instead, we recommend enabling token forwarding on the destination.
If you enable this option, the token used to execute the request is forwarded to the destination:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> destination </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;FORWARD-DESTINATION&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://mys4hana.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  forwardAuthToken</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">registerDestination</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MyRequest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;FORWARD-DESTINATION&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  jwt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;forwardedJwt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This only works if your target system accepts the unchanged JWT.
If a transformation is needed, e.g., OAuth to SamlBearer, you need to use the destination service for that.</p>
<p>Note that the <code>registerDestination</code> method is tenant aware.
We have a separate <a href="/cloud-sdk/docs/js/v1/features/connectivity/destination-cache">guide</a> on the cache options used by the <code>registerDestination</code> method.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-binding-environment-variables">Service Binding Environment Variables<a href="#service-binding-environment-variables" class="hash-link" aria-label="Direct link to Service Binding Environment Variables" title="Direct link to Service Binding Environment Variables">â€‹</a></h3>
<p>The service credentials, in other words <code>VCAP_SERVICES</code> environment variables, represent services bound to the destination.
If you want to consume such a service, the SAP Cloud SDK can create a destination from the service binding for you.
You do not need to create a dedicated destination in the destination service.
Provide the name of the service instance as the destination name and the SAP Cloud SDK will:</p>
<ul>
<li>Find the service binding with the given name</li>
<li>Extract the URL from the service binding</li>
<li>Fetch a client-credential-grant token if needed</li>
<li>Return a destination containing the token and URL</li>
</ul>
<p>Currently, 5 services types are supported out of the box:</p>
<ul>
<li><code>business-logging</code></li>
<li><code>s4-hana-cloud</code></li>
<li><code>saas-registry</code></li>
<li><code>workflow</code></li>
<li><code>destination</code></li>
<li><code>service-manager</code></li>
</ul>
<p>If you need a destination for a different service, create a custom <code>serviceBindingTransformFn</code> and pass it with <code>destinationFetchOptions</code> or consider creating a <a href="https://github.com/SAP/cloud-sdk-js/issues/new?assignees=&amp;labels=feature+request&amp;template=feature_request.md&amp;title=" target="_blank" rel="noopener noreferrer">feature request</a>.
Contributions providing transform functions are highly welcome.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>serviceBindingTransformFn</code> was introduced in version 2.0 of the SAP Cloud SDK.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="destination-service">Destination Service<a href="#destination-service" class="hash-link" aria-label="Direct link to Destination Service" title="Direct link to Destination Service">â€‹</a></h3>
<p>In a productive environment, you will use a <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/7e306250e08340f89d6c103e28840f30.html" target="_blank" rel="noopener noreferrer">Destination service</a> to retrieve destinations.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-and-json-web-token-retrieval">Authentication and JSON Web Token Retrieval<a href="#authentication-and-json-web-token-retrieval" class="hash-link" aria-label="Direct link to Authentication and JSON Web Token Retrieval" title="Direct link to Authentication and JSON Web Token Retrieval">â€‹</a></h4>
<p>To access the destination service, the SAP Cloud SDK will first fetch an access token from the XSUAA service.
The token retrieved from the XSUAA service is used to make a call to the destination service and receive the destinations.
The destination service returns a destination with all relevant authentication information depending on the used authentication flow:</p>
<ul>
<li><code>PrincipalPropagation</code></li>
<li><code>NoAuthentication</code></li>
<li><code>BasicAuthentication</code></li>
<li><code>OAuth2SAMLBearerAssertion</code></li>
<li><code>OAuth2UserTokenExchange</code></li>
<li><code>OAuth2ClientCredentials</code></li>
<li><code>OAuth2Password</code></li>
<li><code>ClientCertificateAuthentication</code></li>
<li><code>OAuth2JWTBearer</code></li>
</ul>
<p>The SAP Cloud SDK automatically parses the response of the destination service and uses the provided authentication information for the request to the target system.
For a simple service, this would be the end of the story.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="multi-tenancy">Multi-Tenancy<a href="#multi-tenancy" class="hash-link" aria-label="Direct link to Multi-Tenancy" title="Direct link to Multi-Tenancy">â€‹</a></h4>
<p>However, the destination service is special in the way that it is a <code>tenant aware service</code>.
Such services make it possible to build multi-tenant applications.
So, what defines a tenant-aware service?</p>
<p>Assume you want to build a simple application showing the 5 newest business partners in an SAP S/4HANA system.
You want to offer this application as a service to customers.
Of course, you want to make this service cost-efficient and host it only once and let multiple customers use it.
This now leads naturally to the requirement that your service needs to return the data related to specific customers.
A customer is represented by an account on the SAP BTP and service considering the account is a <code>tenant aware service</code>.</p>
<p>Tenant-aware services on the SAP BTP are offered to customers via a <code>subscription</code> which works on a high level as follows:
If a customer wants to use a service, a subscription is created linking the customer account and the one account hosting the service.
In the following, the term <code>subscriber account</code> will be used for the accounts using a service and <code>provider account</code> for the one hosting it.</p>
<p>After this little definition detour, let&#x27;s go back to the destination service and the SAP Cloud SDK.
For simplicity, an optional argument of the destination lookup has been neglected in the beginning:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;myDestination&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&lt;JWT&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>jwt</code> argument takes the JSON web token (JWT) issued by an XSUAA as input.
Additional information on how to retrieve JWTs can be found <a href="/cloud-sdk/docs/js/v1/guides/retrieve-jwt">here</a>.
This token contains a field <code>zid</code> holding the tenant id, which will be used in the lookup process.
The lookup process done by the SAP Cloud SDK involves the following steps:</p>
<ul>
<li>Request an access token for the destination service and a given tenant id from the XSUAA.</li>
<li>Due to the subscription between provider and subscriber, the XSUAA is allowed to issue the token.</li>
<li>The token allows for calling the destination service on behalf of the given tenant.
The tenant and service information is encoded in the access token.</li>
<li>Make a call to the destination service using the obtained access token.</li>
<li>The destination maintained in the given tenant is returned.</li>
</ul>
<p>If no token is given or the destination is not found in the subscriber account, the provider account is used as a fallback.
To control this fallback behavior, a selection strategy can be passed to the destination lookup:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;myDestination&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> jwt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&lt;JWT&gt;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> selectionStrategy</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&#x27;alwaysSubscriber&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There are three selection strategies defined in the SAP Cloud SDK: <code>alwaysSubscriber</code>, <code>alwaysProvider</code>, and <code>subscriberFirst</code>.
The selection strategy can be passed as an optional argument to the <code>.execute()</code> method.
The default value is <code>subscriberFirst</code>.
The selection strategies can be used to control for which account a destination lookup is attempted:</p>
<ul>
<li><code>AlwaysSubscriber</code>: Only try to get destinations from the subscriber account.
A valid JWT is mandatory to receive something.</li>
<li><code>AlwaysProvider</code>: Only try to get the destination from the provider account.
A JWT is not needed.
Even if you present a subscriber JWT, the provider destination will be returned if present.</li>
<li><code>SubscriberFirst</code>: Tries to get from the subscriber first using the JWT.
If no valid JWT is provided or the destination is not found, it tries the provider as described for <code>AlwaysProvider</code>.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>One aspect has been left out for simplicity.
In principle, it is possible to define destinations not only on the account level but also on the destination service level.
These destinations are called <code>instance destinations</code> since they are tied to a service binding called instance on SAP BTP.
In every request, these destinations are added to the destinations returned by the destination service.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="destination-lookup-without-a-json-web-token">Destination Lookup Without a JSON Web Token<a href="#destination-lookup-without-a-json-web-token" class="hash-link" aria-label="Direct link to Destination Lookup Without a JSON Web Token" title="Direct link to Destination Lookup Without a JSON Web Token">â€‹</a></h4>
<p>There are situations where you do not have a JWT issued by the XSUAA but need to lookup a destination, e.g., in background processes.
In such situations, the property <code>iss</code> of the <code>DestinationAccessorOptions</code> can be used:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> destinationName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;myDestination&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> iss</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> yourIssuerValue </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The value for <code>iss</code> is supposed to be the same as in a JWT issued from the XSUAA, e.g., <code>https://yourSubdomain.localhost:8080/uaa/oauth/token</code>.
In principle, only the host of the URL is relevant, but since the same parsing and replacement methods are used for the JWT handling, the URL has to be provided in the format above.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If a JWT is used in the destination lookup, a validation of the provided token is performed.
This validation ensures that the JWT has not been manipulated.
If only the <code>iss</code> is provided, no such validation is performed.
Note that the given subdomain value defines from which tenant destinations are fetched.
So a wrong value may break the isolation for tenants.
It is your responsibility as a developer to ensure that the provided value for the <code>iss</code> property is valid.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="destination-fetch-options">Destination Fetch Options<a href="#destination-fetch-options" class="hash-link" aria-label="Direct link to Destination Fetch Options" title="Direct link to Destination Fetch Options">â€‹</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section is written for version 2 of the SAP Cloud SDK.
Most of the options are also available in version 1 but not all e.g. <code>timeout</code>.</p></div></div>
<p>The <code>execute()</code>, <code>getDestination()</code> or <code>executeHttpRequest()</code> perform a destination lookup by name as discussed above.
You can pass options to adjust how the destination is fetched.
In the section above, we listed already a few of the options but this section gives a comprehensive overview:</p>
<ul>
<li><code>destinationName</code>: The name of the destination to be fetched.
This is the only mandatory property, all the other parameters are optional.</li>
<li><code>serviceBindingTransformFn</code>: A custom transformation function to control how a <code>Destination</code> is built from the given <code>ServiceBinding</code>.</li>
<li><code>jwt</code>: The JSON web token.
Crucial in multi-tenant scenarios or for user-dependent authentication flows.</li>
<li><code>iss</code>: Issuer URL which can be used to obtain destination for a subscriber tenant if no JWT is present.
Read the detailed documentation above before using this option.</li>
<li><code>selectionStrategy</code>: Specifies the order in which accounts are searched for a destination.
Default is <code>subscriberFirst</code>.
Alternative values are <code>alwaysProvider</code> and <code>alwaysSubscriber</code>.</li>
<li><code>iasToXsuaaTokenExchange</code>: Switches on token exchange from IAS format tokens to XSUAA if needed using the <code>@sap/xssec</code> library.
The default value is true.</li>
<li><code>cacheVerificationKeys</code>: Switches on caching for the verification certificates for the JWT.
The default value is true.</li>
<li><code>useCache</code>: Switches on caching for destinations received from the destination service.
The default value is false.</li>
<li><code>isolationStrategy</code>: Specifies how the destination cache is scoped.
The value is automatically set but <a href="/cloud-sdk/docs/js/v1/features/connectivity/destination-cache">under certain conditions</a> you may want to optimize it.</li>
<li><code>enableCircuitBreaker</code>: Switches on circuit breakers to protect the calls to the <code>XSUAA</code> and <code>destination-service</code>.
The default value is true.</li>
<li><code>timeout</code>: Sets the timeout for the calls to SAP BTP services like <code>XSUAA</code> and <code>destination-service</code>.
The value is in milliseconds and the default value is 10000 (10 seconds).
There is a second timeout option on the request level, setting the timeout for the calls to the destination target.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="destination-properties">Destination Properties<a href="#destination-properties" class="hash-link" aria-label="Direct link to Destination Properties" title="Direct link to Destination Properties">â€‹</a></h2>
<p>The destination object may contain additional properties.
The properties change the behavior of how the SAP Cloud SDK handles the HTTP request at runtime.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sap-client">SAP Client<a href="#sap-client" class="hash-link" aria-label="Direct link to SAP Client" title="Direct link to SAP Client">â€‹</a></h3>
<p>The property <code>sap-client</code> is considered by the SAP Cloud SDK.
When this property is set, it is used as the header parameter <code>sap-client</code> with the specified value in the HTTP request to the target system.</p>
<img alt="SAP client property on destination" src="/cloud-sdk/img/destination-property-sap-client.png" class="center">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trust-configuration">Trust Configuration<a href="#trust-configuration" class="hash-link" aria-label="Direct link to Trust Configuration" title="Direct link to Trust Configuration">â€‹</a></h3>
<p>By default, SAP BTP only trusts certain certificate authorities.
If you want to make HTTPS requests against systems that use certificates from other certificate authorities, you can configure the following properties:</p>
<ol>
<li>TrustStoreLocation: The SAP Cloud SDK adds the provided certificate in the <code>ca</code> property of the <a href="https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions" target="_blank" rel="noopener noreferrer">node client</a>.</li>
<li>TrustAll: The SAP Cloud SDK adds the inverted value as the <a href="https://nodejs.org/api/tls.html#class-tlstlssocket" target="_blank" rel="noopener noreferrer">rejectUnauthorized</a></li>
</ol>
<p>For additional information on trust configuration have a look at the more <a href="/cloud-sdk/docs/js/v1/guides/trust-and-keystores">detailed guide</a>.
Please use the <code>TrustAll</code> with great caution since it opens the gate to man-in-the-middle attacks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jwt-validation">JWT Validation<a href="#jwt-validation" class="hash-link" aria-label="Direct link to JWT Validation" title="Direct link to JWT Validation">â€‹</a></h3>
<p>If you use JWTs not issued by the XSUAA service, you can configure validation by the destination service using the <code>x_user_token.jwks</code> or <code>x_user_token.jwks_uri</code> property.
For more details on JWTs, have a look at the more detailed <a href="/cloud-sdk/docs/js/v1/guides/retrieve-jwt">guide</a>.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>If you want to use a custom JWT in combination with the destination cache, the JWT must contain the properties <code>zid</code> and <code>user_id</code>.
These properties are used to construct the cache key.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-headers-and-query-parameters-on-destinations">Additional Headers and Query Parameters on Destinations<a href="#additional-headers-and-query-parameters-on-destinations" class="hash-link" aria-label="Direct link to Additional Headers and Query Parameters on Destinations" title="Direct link to Additional Headers and Query Parameters on Destinations">â€‹</a></h3>
<p>The destination service has a convention to define static headers and query parameters on destinations.
Create additional properties in your destination in the SAP BTP cockpit and define their values as follows:</p>
<ul>
<li><code>URL.headers.&lt;header-key&gt;</code> for headers</li>
<li><code>URL.queries.&lt;query-key&gt;</code> for query parameters</li>
</ul>
<p>Replace <code>&lt;header-key&gt;</code> and <code>&lt;query-key&gt;</code> with the name of your headers or query parameters and set the respective values.</p>
<img alt="Additional properties on destination" src="/cloud-sdk/img/destination-additional-properties.png" class="center">
<p>In the example above, the destination has an <code>apiKey</code> header with the value <code>&lt;my-api-key&gt;</code> and a <code>language</code> query parameter with the value <code>EN</code>.</p>
<p>The SAP Cloud SDK adds those additional headers and query parameters for every communication with the given destination.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rules-of-precedence">Rules of Precedence<a href="#rules-of-precedence" class="hash-link" aria-label="Direct link to Rules of Precedence" title="Direct link to Rules of Precedence">â€‹</a></h4>
<p>The SAP Cloud SDK adds headers and query parameters from different sources.
Some sources take precedence over others (highest to lowest):</p>
<ol>
<li><strong>custom</strong>: headers/query parameters added to a request directly</li>
<li><strong>additional properties</strong>: headers/query parameters defined on a destination</li>
<li><strong>internal</strong>: headers/query parameters built by the SAP Cloud SDK</li>
</ol>
<p>Headers or query parameters built by the SAP Cloud SDK are overwritten by additional headers and query parameters on the destination.
Custom headers and query parameters, however, overwrite the additional properties.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><strong>Header names</strong> keep their casing but overwrite other headers independent of the casing, e.g., <code>AUTHORIZATION</code> overwrites <code>authorization</code>.
This does not apply to query <strong>parameter names</strong>`.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SAP/cloud-sdk/edit/main/docs-js_versioned_docs/version-v1/features/connectivity/destination.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud-sdk/docs/js/v1/features/odata/v4-client"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OData v4 Client API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud-sdk/docs/js/v1/features/connectivity/destination-cache"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Destination Cache</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-destinations-manually" class="table-of-contents__link toc-highlight">Creating Destinations Manually</a></li><li><a href="#referencing-destinations-by-name" class="table-of-contents__link toc-highlight">Referencing Destinations by Name</a><ul><li><a href="#local-environment-variable" class="table-of-contents__link toc-highlight">Local Environment Variable</a></li><li><a href="#register-destination-via-the-sap-cloud-sdk" class="table-of-contents__link toc-highlight">Register Destination via the SAP Cloud SDK</a></li><li><a href="#service-binding-environment-variables" class="table-of-contents__link toc-highlight">Service Binding Environment Variables</a></li><li><a href="#destination-service" class="table-of-contents__link toc-highlight">Destination Service</a></li><li><a href="#destination-fetch-options" class="table-of-contents__link toc-highlight">Destination Fetch Options</a></li></ul></li><li><a href="#destination-properties" class="table-of-contents__link toc-highlight">Destination Properties</a><ul><li><a href="#sap-client" class="table-of-contents__link toc-highlight">SAP Client</a></li><li><a href="#trust-configuration" class="table-of-contents__link toc-highlight">Trust Configuration</a></li><li><a href="#jwt-validation" class="table-of-contents__link toc-highlight">JWT Validation</a></li><li><a href="#additional-headers-and-query-parameters-on-destinations" class="table-of-contents__link toc-highlight">Additional Headers and Query Parameters on Destinations</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">SAP Cloud SDK for Java</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://central.sonatype.com/search?q=g:com.sap.cloud.sdk*&amp;smo=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Maven<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/support">Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">SAP Cloud SDK for JavaScript</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/tutorials/getting-started/introduction">Tutorials</a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">npm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SAP/cloud-sdk-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SAP-samples/cloud-sdk-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/support">Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Additional Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://community.sap.com/topics/cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK Community Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://answers.sap.com/tags/73555000100800000895" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK on SAP Answers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK on SAP Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://sapinsights.eu.qualtrics.com/jfe/form/SV_0P69X6kJ0Pdxqbc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feedback<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer></div>
</body>
</html>