<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="SAP Cloud SDK" href="/cloud-sdk/opensearch.xml">
<script src="https://sap.github.io/cloud-sdk/js/swa.js"></script><title data-react-helmet="true">Call a BAPI/RFC Module | SAP Cloud SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://sap.github.io/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Call a BAPI/RFC Module | SAP Cloud SDK"><meta data-react-helmet="true" name="description" content="Call a BAPI/RFC Module with the SAP Cloud SDK for Java"><meta data-react-helmet="true" property="og:description" content="Call a BAPI/RFC Module with the SAP Cloud SDK for Java"><meta data-react-helmet="true" name="keywords" content="sap,cloud,sdk,cloud native,cloud sdk,sap cloud sdk,bapi,rfc"><link data-react-helmet="true" rel="icon" href="/cloud-sdk/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://sap.github.io/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview"><link data-react-helmet="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/cloud-sdk/assets/css/styles.72ee6063.css">
<link rel="preload" href="/cloud-sdk/assets/js/runtime~main.b6d62671.js" as="script">
<link rel="preload" href="/cloud-sdk/assets/js/main.595d7133.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud-sdk/"><div class="navbar__logo"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">SAP Cloud SDK</b></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/SAP/cloud-sdk-js/issues/new/choose" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>GitHub JavaScript<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/SAP/cloud-sdk/issues/new?assignees=&amp;labels=Java&amp;template=sap-cloud-sdk-for-java-issue.md&amp;title=" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span> GitHub Java<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/overview/get-support">Support Details</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Release Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Java</a></li><li><a href="https://github.com/SAP/cloud-sdk-js/releases" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS/TS Core</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/js/release-notes-sap-cloud-sdk-for-javascript-and-typescript">JS/TS Client Libraries</a></li></ul></div><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Maven Central<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">npm</a><ul class="dropdown__menu"><li><a href="https://www.npmjs.com/search?q=sap-cloud-sdk*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Core Modules<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-vdm*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>SAP S/4HANA Cloud<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-op*" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>SAP S/4HANA On-Premise<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/cloud-sdk-feature-matrix">Feature Matrix</a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">Java</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/odata/overview">Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/odata/overview">OData</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/rest/overview">OpenAPI</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview">BAPI/RFC</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/connectivity/sdk-connectivity-destination-service">Connectivity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/multi-tenancy/multi-tenancy-thread-context">Multitenancy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/features/resilience">Resilience &amp; Caching</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/environments/sap-btp-environments-overview">Environments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/guides/cf-cli">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/extensions/extensions-supported-by-sap-cloud-sdk-for-java">Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/cloud-sdk/docs/java/video/video-tutorial-about-getting-started-with-sap-cloud-sdk-for-java">Video Tutorials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/sdk-java-troubleshooting-frequent-problems">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/frequently-asked-questions">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/cloud-sdk/docs/js/overview-cloud-sdk-for-javascript">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/cloud-sdk/docs/community/community-call">Community</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/cloud-sdk/docs/related-projects/cloud-application-model">Related Projects</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article><div class="markdown"><div><div class="docsRatingContainerTop_UKLZ"><div class="docsRating">Rate this page<svg class="i_negative" alt="Dislike" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg><svg class="i_positive" alt="Like" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg></div></div><header><h1>Call a BAPI/RFC Module</h1></header></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="what-is-a-bapi-what-is-an-rfc-module">What Is A BAPI? What Is An RFC Module?<a class="hash-link" href="#what-is-a-bapi-what-is-an-rfc-module" title="Direct link to heading">â€‹</a></h2><p>Per the <a href="https://help.sap.com/saphelp_46c/helpdata/en/a5/3ec8464ac011d1894e0000e829fbbd/content.htm?no_cache=true" target="_blank" rel="noopener noreferrer">official SAP documentation</a>, a Business Application Programming Interface (BAPI) is a <em>precisely defined interface providing access to processes and data in business application systems</em>.
BAPIs allow external systems to integrate with ABAP systems by reading and writing business data through the BAPI as an interface.
A Remote Function Call (RFC) module can also be leveraged alongside BAPI, but the recommended approach is to use BAPIs wherever possible as BAPIs guarantee more stable and intuitive interfaces.</p><p>On the technical level, both BAPIs and RFC modules allow for invocation from external systems through the <a href="https://help.sap.com/doc/saphelp_nw73/7.3.16/en-US/48/88068ad9134076e10000000a42189d/content.htm" target="_blank" rel="noopener noreferrer">RFC protocol</a> (Remote Function Call). As opposed to HTTP, RFC is a binary protocol highly-optimized for fast data transfer between enterprise systems.</p><p>You can find more differences between BAPI and RFC module on the programming model.
Here is a brief overview:</p><ul><li>BAPIs have names that <strong>always</strong> start with &quot;BAPI&quot;. RFC modules have more flexible naming conventions.</li><li>BAPIs do not throw exceptions, but leverage return tables to transfer messages to the caller.</li><li>BAPIs do not use changing parameters, while RFC modules may do.</li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>To improve readability, we use the term <em>BAPI</em> to refer to both BAPIs and RFC modules.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="technical-overview">Technical Overview<a class="hash-link" href="#technical-overview" title="Direct link to heading">â€‹</a></h2><p>SAP offers the <a href="https://support.sap.com/en/product/connectors/jco.html" target="_blank" rel="noopener noreferrer">SAP Java Connector</a> library, hereafter referred to as <em>JCo</em> in short, that allows native access to BAPIs inside SAP systems.
That means, one can also invoke BAPIs without using the SAP Cloud SDK by solely leveraging JCo.</p><p>SAP Cloud SDK offers a convenient Java API on top of JCo that integrates with other SAP Cloud SDK core concepts, such as the destination retrieval on SCP, as well as a nice way to mapping Java entity classes to BAPI input parameters and result sets.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>JCo is not packaged with SAP Cloud SDK</h5></div><div class="admonition-content"><p>SAP Cloud SDK does <em>not</em> package JCo as a library with its dependencies.
The SAP Cloud SDK assumes that JCo is available on the JVM classpath.</p></div></div><p>On the SAP BTP for the Neo environment, JCo is automatically provided by the infrastructure.
On the SAP BTP for the Cloud Foundry environment one must use the SAP Java Build Pack during app deployment.
There are other edge cases that we&#x27;ll cover later.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="call-a-bapi-in-an-sap-abap-system">Call a BAPI in an SAP ABAP system<a class="hash-link" href="#call-a-bapi-in-an-sap-abap-system" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Generate a SAP Cloud SDK project</h5></div><div class="admonition-content"><p>If you&#x27;re starting from scratch, generate a <code>TomEE</code> project following the steps in the <a href="https://sap.github.io/cloud-sdk/docs/java/getting-started#generating-a-project-from-a-maven-archetype" target="_blank" rel="noopener noreferrer">Getting started</a> guide.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="implement-an-example-bapi-call">Implement an Example BAPI Call<a class="hash-link" href="#implement-an-example-bapi-call" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_31ik" id="example-scenario">Example Scenario<a class="hash-link" href="#example-scenario" title="Direct link to heading">â€‹</a></h4><p>We build an app that we deploy to the SAP BTP, Cloud Foundry environment.
This app exposes a servlet which invokes a BAPI to retrieve cost center information from e.g. SAP S/4HANA.
The servlet has two input parameters which we supply in the query string:</p><ul><li><code>destinationName</code>: Defines which SAP BTP destination to use for connecting to SAP S/4HANA.</li><li><code>controllingArea</code>: Defines the controlling area for the cost center retrieval.</li></ul><p>The app retrieves the SAP BTP destination with SAP Cloud SDK core capabilities, creates a BAPI request, and issues that to SAP S/4HANA through the SAP Cloud Connector.
We use the SAP Cloud Connector to access an SAP S/4HANA On-premise system.</p><p>The BAPI result contains cost center information which we print to the servlet response.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="implementation">Implementation<a class="hash-link" href="#implementation" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_31ik" id="create-cost-center-abstraction">Create Cost Center Abstraction<a class="hash-link" href="#create-cost-center-abstraction" title="Direct link to heading">â€‹</a></h5><p>Firstly, we create an abstraction for the cost center as a business entity.
Thereby we gain type-safe access to the cost center information.</p><p>Create a new class <code>CostCenter</code> and implement it as follows:</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">@Value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CostCenter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ElementName(&quot;CO_AREA&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String controllingArea;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ElementName(&quot;COSTCENTER&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ElementName(&quot;NAME&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ElementName(&quot;DESCRIPT&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String description;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The annotation <code>@Value</code> is a class-level annotation that comes from <a href="https://projectlombok.org/" target="_blank" rel="noopener noreferrer">Lombok</a>.
Check out its <a href="https://projectlombok.org/features/Value" target="_blank" rel="noopener noreferrer">documentation</a> if you are curious.</p><p>We annotate every class member with <code>@ElementName</code> declaring the respective ABAP field name.
The SAP Cloud SDK uses this metadata to map the ABAP field to the Java field.
You can look up the ABAP field name in SAP S/4HANA transaction SE37 by opening the BAPI parameter list.</p><p>To make that compile, we add Lombok to our <code>application/pom.xml</code> as a dependency.
Open <code>application/pom.xml</code> and add that dependency:</p><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.projectlombok</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">lombok</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">provided</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Run <code>mvn clean install</code> to verify that everything goes well.</p><h5 class="anchor anchorWithStickyNavbar_31ik" id="implement-the-servlet">Implement the Servlet<a class="hash-link" href="#implement-the-servlet" title="Direct link to heading">â€‹</a></h5><p>Open the <code>HelloWorldSerlvet</code> and delete its current implementation, we&#x27;ll replace that with the BAPI call in the following.</p><p>Firstly, we read out the two mentioned servlet parameters from the query string.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected void doGet(final HttpServletRequest request, final HttpServletResponse response )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throws IOException</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final String destinationName = request.getParameter(&quot;destinationName&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final String controllingArea = request.getParameter(&quot;controllingArea&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Thereafter, we instruct the SAP Cloud SDK to retrieve the SAP BTP destination per the provided name.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final Destination destination = DestinationAccessor.getDestination(destinationName);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now follows the actual BAPI invocation.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final BapiRequestResult result = new BapiRequest(&quot;BAPI_COSTCENTER_GETLIST1&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We use the BAPI <code>BAPI_COSTCENTER_GETLIST1</code> to fetch cost center details from SAP S/4HANA.
We call it with these parameters:</p><ul><li><em>Importing</em>: <code>CONTROLLINGAREA</code> is supplied with the controlling area the servlet received</li><li><em>Tables</em>: <code>COSTCENTERLIST</code> provides us a list of cost centers that belong to the controlling area along with some cost center data</li><li><em>Tables</em>: <code>RETURN</code> is the BAPI return table which contains the result messages after BAPI processing</li></ul><p>Here is how you code that with the SAP Cloud SDK.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">.withExporting(&quot;CONTROLLINGAREA&quot;, &quot;BAPI0012_GEN-CO_AREA&quot;, controllingArea)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.withTable(&quot;COSTCENTERLIST&quot;, &quot;BAPI0012_CCLIST&quot;).end()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.withTableAsReturn(&quot;BAPIRET2&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We call <code>withExporting</code> with the parameter name as the first argument.
The second argument <code>BAPI0012_GEN-CO_AREA</code> represents the ABAP data type of the BAPI parameter.
You can look that up in transaction SE37 under the respective BAPI name.
Thirdly, we pass the actual controlling area to the method.</p><p>Using <code>withTable</code> allows us to access the table parameter result after BAPI processing.
If we would not call this method, the SAP Cloud SDK would ignore this tables parameter from the BAPI response, even though it contains some data.
Again, the second parameter is the ABAP data type.</p><p>The invocation of method <code>withTableAsReturn</code> instructs the SAP Cloud SDK to treat the tables&#x27; parameter with the name <code>BAPIRET2</code> as BAPI result table.
We&#x27;ll see later how that helps us access the BAPI result in Java.</p><p>The BAPI invocation gets finished with a call to <code>.execute(destination)</code>.</p><p>Here is the full method call chain:</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final BapiRequestResult result = new BapiRequest(&quot;BAPI_COSTCENTER_GETLIST1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .withExporting(&quot;CONTROLLINGAREA&quot;, &quot;BAPI0012_GEN-CO_AREA&quot;, controllingArea)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .withTable(&quot;COSTCENTERLIST&quot;, &quot;BAPI0012_CCLIST&quot;).end()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .withTableAsReturn(&quot;BAPIRET2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .execute(destination);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We receive an instance of <code>BapiRequestResult</code>.
Let&#x27;s look at how to access the BAPI result in detail.</p><p>As mentioned above, we&#x27;re interested in the cost center list and its content.
Therefore, we access the <code>COSTCENTERLIST</code> tables parameter.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final List&lt;CostCenter&gt; costCenterList = result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .get(&quot;COSTCENTERLIST&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .getAsCollection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .asList(CostCenter.class);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This helps you automatically retrieve <code>List&lt;CostCenter&gt;</code> and can access the output in a type-safe way.
On the return type of <code>result.get(&quot;COSTCENTERLIST&quot;)</code> you call <code>getAsCollection()</code> to treat this parameter as a collection and then you instruct the SAP Cloud SDK to transfer the contained entries into individual <code>CostCenter</code> instances with <code>asList(...)</code>.</p><p>Further processing depends on the use case.
For example, we could print the cost centers to the servlet response.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">for (final CostCenter costCenter : costCenterList) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response.getWriter().write(costCenter.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Before deploying the app, let&#x27;s point out more possibilities to access the BAPI result.
The class <code>BapiRequestResult</code> allows you to access the return table as follows:</p><ul><li>Use <code>getErrorMessages()</code>, <code>getSuccessMessages()</code>, <code>getWarningMessages()</code> and <code>getInformationMessages</code> to access the returned messages.</li><li>Use <code>hasFailed()</code> to figure out if the BAPI call was in itself working.
Note that this is a convenient method for checking if <code>getErrorMessages()</code> is empty.
The interpretation if the BAPI call was successful, highly depends on the business context and you could implement custom logic for that purpose.</li></ul><p>You might notice that the <code>execute</code> method declares to throw a <code>RequestExecutionException</code> in case of a failure at runtime.
That requires encapsulating the BAPI call in a try-catch block.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final BapiRequestResult result = new BapiRequest(&quot;BAPI_COSTCENTER_GETLIST1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .withExporting(&quot;CONTROLLINGAREA&quot;, &quot;BAPI0012_GEN-CO_AREA&quot;, controllingArea)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .withTable(&quot;COSTCENTERLIST&quot;, &quot;BAPI0012_CCLIST&quot;).end()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .withTableAsReturn(&quot;BAPIRET2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .execute(destination);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final List&lt;CostCenter&gt; costCenterList = result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .get(&quot;COSTCENTERLIST&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .getAsCollection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .asList(CostCenter.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (final CostCenter costCenter : costCenterList) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response.getWriter().write(costCenter.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} catch (final RequestExecutionException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e.printStackTrace(response.getWriter());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Run <code>mvn clean install</code> to verify that your app compiles and to assemble it to a deployable artifact.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="difference-for-rfc-module">Difference for RFC Module<a class="hash-link" href="#difference-for-rfc-module" title="Direct link to heading">â€‹</a></h4><p>The presented code works for RFC modules too.
The difference is to use alternative classes:</p><ul><li><code>RfmRequest</code> instead of <code>BapiRequest</code></li><li><code>RfmRequestResult</code> instead of <code>BapiRequestResult</code></li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="configure--deploy-to-a-cloud-foundry-environment">Configure &amp; Deploy to a Cloud Foundry Environment<a class="hash-link" href="#configure--deploy-to-a-cloud-foundry-environment" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">â€‹</a></h3><p>Here is what you&#x27;ll need to make progress throughout the next steps.</p><ul><li>CF CLI installed on your machine</li><li>User in SAP S/4HANA target system</li><li>SAP BTP subaccount for the Cloud Foundry environment with entitlements for XSUAA, Destination and Connectivity service</li><li>SAP Cloud Connector connected to the subaccount (if SAP S/4HANA is On-premise)</li><li>App Router (for some use cases, see note below)</li></ul><p>Official tutorials for setting up these scenarios can be found <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/b14eeb94be944c62a5880bde50c59aef.html" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-up-app-router">Set Up App Router<a class="hash-link" href="#set-up-app-router" title="Direct link to heading">â€‹</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Relevant Use Cases</h5></div><div class="admonition-content"><p>An App Router is required if any of these conditions are met:</p><ul><li>The app is multi tenant</li><li>Principal Propagation is used</li><li>If SAP S/4HANA is On-premise and the subaccount ID differs from the tenant ID of your CF subaccount
:::</li></ul><p>For the above use cases to function it is required that the app is invoked with a JWT containing the user context.
For that, securing the backend with an app router is required.
Follow <a href="https://developers.sap.com/tutorials/s4sdk-secure-cloudfoundry.html" target="_blank" rel="noopener noreferrer">this tutorial</a> to set up the app router.</p></div></div><p>In case your application should be multi tenant it is also required to <a href="/cloud-sdk/docs/java/guides/manage-dependencies#avoiding-scope-conflicts">mitigate scope conflicts</a> with the SAP Java Buildpack.</p><p>:::</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="setup-cloud-connector-for-sap-s4hana-on-premise-access">Setup Cloud Connector for SAP S/4HANA On-Premise access<a class="hash-link" href="#setup-cloud-connector-for-sap-s4hana-on-premise-access" title="Direct link to heading">â€‹</a></h3><p>Expose the SAP S/4HANA system in the SAP Cloud Connector as described in the <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/ca5868997e48468395cf0ca4882f5783.html" target="_blank" rel="noopener noreferrer">official documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="setup-destination">Setup Destination<a class="hash-link" href="#setup-destination" title="Direct link to heading">â€‹</a></h3><p>Open the SAP BTP cockpit on the subaccount level.
Navigate to <code>Connectivity</code> -&gt; <code>Destinations</code> and create a new RFC destination with these properties.</p><ul><li><em>Name</em>: <code>BAPI-TEST</code> (you can also choose your own name)</li><li><em>Type</em>: <code>RFC</code></li><li><em>ProxyType</em>: <code>OnPremise</code></li><li><em>User</em>: Enter the SAP S/4HANA username</li><li><em>Password</em>: Enter the SAP S/4HANA password</li><li><em>Additional properties</em>:<ul><li><code>jco.client.ashost</code>: Enter the SAP S/4HANA hostname</li><li><code>jco.client.client</code>: Enter the SAP S/4HANA client</li><li><code>jco.client.sysnr</code>: Enter the SAP S/4HANA instance number</li></ul></li></ul><p>For performance improvements of your app, please consider using optional properties such as <code>jco.client.serialization_format</code> (see further in <a href="https://support.sap.com/en/product/connectors/jco.html" target="_blank" rel="noopener noreferrer">JCo documentation</a>).</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This destination setup is exemplary for accessing an On-premise SAP S/4HANA system directly, if you want to access it e.g. via message server logon or you want to access a cloud system via WebSocketRFC, please adapt the properties as described in the <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/ab6eac92978f469e9eabe3d477ca2411.html" target="_blank" rel="noopener noreferrer">official documentation</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="deploy-to-the-sap-business-technology-platform-cloud-foundry-environment">Deploy to the SAP Business Technology Platform, Cloud Foundry Environment<a class="hash-link" href="#deploy-to-the-sap-business-technology-platform-cloud-foundry-environment" title="Direct link to heading">â€‹</a></h3><p>Invoke <code>cf push</code> from the directory root to deploy the app to your Cloud Foundry space.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="call-the-test-app">Call the Test App<a class="hash-link" href="#call-the-test-app" title="Direct link to heading">â€‹</a></h3><p>Our test app has the two servlet parameters <code>destinationName</code> and <code>controllingArea</code>.
Suppose our destination has the name <code>BAPI-TEST</code> and we intend to read cost centers from controlling area <code>0001</code>, we&#x27;d call the test app with the relative path <code>hello?destinationName=BAPI-TEST&amp;controllingArea=0001</code>.</p><p>Access the test app through your browser with the address consisting of the full hostname plus the relative path.
You should see the login prompt of the protected backend.
After authentication, the servlet is invoked and you should see the servlet response printing the cost center details.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="advanced-bapi-calls">Advanced BAPI Calls<a class="hash-link" href="#advanced-bapi-calls" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="use-of-api-for-table-parameters-of-a-bapirequest">Use of API for Table Parameters of a BapiRequest<a class="hash-link" href="#use-of-api-for-table-parameters-of-a-bapirequest" title="Direct link to heading">â€‹</a></h3><p>When a table uses a domain-type as row-type there are no field names to refer to.
But such a table can be treated as a one-dimensional vector of primitive values, e.g.:</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">new BapiRequest(&quot;BAPI_DEMO&quot;, true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .withExportingTable(&quot;DEMO_TABLE&quot;, &quot;BAPI_DEMO_TAB01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .asVector()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .row(&quot;CC01&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .row(&quot;CC02&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .row(&quot;CC03&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .end();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="recursive-tables-and-structures-in-parameters-of-a-bapirequest">Recursive Tables and Structures in Parameters of a BapiRequest<a class="hash-link" href="#recursive-tables-and-structures-in-parameters-of-a-bapirequest" title="Direct link to heading">â€‹</a></h3><p>The following example demonstrates the API for recursive tables and structures in parameters of <code>BapiRequest</code> for both protocols: <em>JCo</em> and <em>SOAP</em>.</p><div class="codeBlockContainer_K1bP language-diff theme-code-block"><div class="codeBlockContent_hGly diff"><pre tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final BapiRequest bapiReqauest = new BapiRequest(&quot;DEMO_BAPI&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .withExportingTable(&quot;TABLE_PARAMETER1&quot;,&quot;ABC_T_PARAM1&quot; )</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .row()</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .field(&quot;ROW_UUID&quot;,&quot;STRING&quot;,&quot;foobar&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   //Start nested table</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   .table(&quot;TABLE_NESTED1&quot;,&quot;ABC_T_NESTED1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       .row()</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       .field(&quot;NESTED_FIELD1&quot;,&quot;STRING&quot;,&quot;john&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       .field(&quot;NESTED_FIELD2&quot;,&quot;STRING&quot;,&quot;doe&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       .end() // End nested table</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    // START nested structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    .fields(&quot;NESTED_STRUCTURE&quot;, &quot;NESTED_STRUCTURE_TYPE&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        .field(&quot;latitude&quot;, &quot;Axis&quot;, &quot;52&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        .field(&quot;longitude&quot;, &quot;Axis&quot;, &quot;13&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">        .end() // End nested structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    .end();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="clearing-the-java-connector-cache">Clearing the Java Connector Cache<a class="hash-link" href="#clearing-the-java-connector-cache" title="Direct link to heading">â€‹</a></h2><p>The Java Connector library caches metadata about the BAPI interface to gain performance.
In case the BAPI interface changes in the backend during the application runtime, the metadata in the cache and in the backend can become inconsistent.
This inconsistency can lead to severe errors and difficult to understand exceptions.
For such cases, the metadata cache can be cleared explicitly on different levels of granularity.</p><p>You can clear the Java Connector cache per destination with the following Java API.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">RemoteFunctionCache.clearCache(destination);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This clears the cache for all BAPIs called over this destination.
Upon invoking a BAPI over this destination with the cleared cache, the Java Connector will retrieve the metadata again and the consistency is recovered.</p><p>You can also clear the cache for a Destination and a certain BAPI.</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">RemoteFunctionCache.clearCache(destination, &quot;BAPI_COSTCENTER_CREATEMULTIPLE&quot;);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This call clears the metadata cache of the selected BAPI for the given Destination.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="boundary-conditions-and-edge-cases">Boundary Conditions and Edge Cases<a class="hash-link" href="#boundary-conditions-and-edge-cases" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="jco-classes-not-found-at-runtime">JCo Classes Not Found at Runtime<a class="hash-link" href="#jco-classes-not-found-at-runtime" title="Direct link to heading">â€‹</a></h3><p>The JCo classes are available on the JVM classpath at runtime.
If not, the exception in such cases reads like <code>java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException</code>.</p><p>Possible reasons and resolutions:</p><ul><li>There have been issues with finding JCo classes in a Spring Boot project.
In such cases using the &quot;traditional deployment&quot; of Spring solved the problem.
Thereby you deploy a war file instead of a jar file and you use Tomcat as the servlet container.
Refer to the <a href="/cloud-sdk/docs/java/guides/spring-boot-war-deployment">guide on the traditional Spring deployment</a> to overcome this issue.</li><li>On SAP BTP, Cloud Foundry environment, the SAP Java Build Pack brings JCo as a dependency.
The problem arises when the build pack is not used.
That is, you must declare its usage in your deployment descriptor <code>manifest.yml</code> as such:</li></ul><div class="codeBlockContainer_K1bP language-yaml theme-code-block"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> testapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">buildpacks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sap_java_buildpack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">USE_JCO</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Furthermore, you must specify the environment variable <code>USE_JCO</code> to load JCo during app deployment.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="dependency-conflicts-at-runtime">Dependency Conflicts at Runtime<a class="hash-link" href="#dependency-conflicts-at-runtime" title="Direct link to heading">â€‹</a></h3><p>If you see exceptions related to classes or methods not being found this can indicate a dependency conflict.
Please visit the <a href="/cloud-sdk/docs/java/guides/manage-dependencies#Notes-on-the-SAP-Java-Buildpack">Notes on the SAP Java Buildpack</a> and follow the guide on mitigating conflicts.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="subscriber-tenant-is-not-found-at-runtime">Subscriber Tenant Is Not Found at Runtime<a class="hash-link" href="#subscriber-tenant-is-not-found-at-runtime" title="Direct link to heading">â€‹</a></h3><p>In case you want to use multitenancy or multithreading the recommendations to <a href="/cloud-sdk/docs/java/guides/manage-dependencies#avoiding-scope-conflicts">avoid scope conflicts</a> become mandatory.</p><p>Furthermore, please check out the documentation <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/fa4adc9bd40e45dbac573fd616695446.html" target="_blank" rel="noopener noreferrer">here</a>, especially if you want to call JCo from any newly created thread.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="decoration-of-rfc-destinations">Decoration of RFC Destinations<a class="hash-link" href="#decoration-of-rfc-destinations" title="Direct link to heading">â€‹</a></h3><p>In the realm of HTTP, destinations allow decoration to add further features to them.
For instance, an <code>ErpHttpDestination</code> can decorate an <code>HttpDestination</code> which introduces the enhancement of request headers with SAP S/4HANA-specific destination properties (e.g., <code>sap-client</code>).</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final HttpDestination httpDestination = DestinationAccessor.getDestination(destinationName).asHttp();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final DefaultErpHttpDestination erpHttpDestination = httpDestination.decorate(DefaultErpHttpDestination::new);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Simply speaking, for RFC destinations such decorations do not exist.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="local-deployment">Local Deployment<a class="hash-link" href="#local-deployment" title="Direct link to heading">â€‹</a></h3><p>It is possible to execute BAPI calls from a Java app that runs on <code>localhost</code>.
That requires some configuration steps.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Some configuration steps differ depending on which Maven archetype (Spring or TomEE) you use.</p></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="download-and-install-jco-library">Download and Install JCo Library<a class="hash-link" href="#download-and-install-jco-library" title="Direct link to heading">â€‹</a></h4><ul><li>Download the JCo library from the official <a href="https://support.sap.com/en/product/connectors/jco.html" target="_blank" rel="noopener noreferrer">product page</a>.</li><li>Extract the downloaded archive and note the JCo version (e.g., <code>3.1.2</code>) from the <code>Readme.txt</code> file.</li><li>Install the JAR file to your local Maven cache by running the following command:<div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Before running the command, replace <code>&lt;sapjco-version&gt;</code> with the JCo version you downloaded.</p></div></div><code>mvn install:install-file -Dfile=sapjco3.jar -DgroupId=com.sap.conn.jco -DartifactId=com.sap.conn.jco.sapjco3 -Dversion=&lt;sapjco-version&gt; -Dpackaging=jar</code></li><li>Now Maven uses the JCo JAR file when declaring the dependency in your pom file.</li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="add-a-dependency-to-your-pomxml">Add a Dependency To Your <code>pom.xml</code><a class="hash-link" href="#add-a-dependency-to-your-pomxml" title="Direct link to heading">â€‹</a></h4><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">TomEE</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Spring</li></ul><div class="margin-vert--md"><div role="tabpanel"><ul><li>Add this new dependency to your <code>pom.xml</code> in the <code>application</code> folder:</li></ul><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.sap.conn.jco</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.sap.conn.jco.sapjco3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">X.Y.Z</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Build the app with <code>mvn clean package</code>.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Replace the placeholder <code>X.Y.Z</code> with the JCo version you downloaded.</p></div></div></div><div role="tabpanel" hidden=""><ul><li>Add this new dependency to your <code>pom.xml</code> in the <code>application</code> folder:</li></ul><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.sap.conn.jco</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.sap.conn.jco.sapjco3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">X.Y.Z</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Replace the placeholder <code>X.Y.Z</code> with the JCo version you downloaded.</p></div></div><ul><li>Change the packaging format to <code>war</code> file by adding:</li></ul><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">packaging</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">war</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">packaging</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Use the latest version of the <code>maven-war-plugin</code> by specifying it explicitly in your <code>pom.xml</code>:</li></ul><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-war-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.3.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- use latest version --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>Build the app with <code>mvn clean package</code>.</li></ul></div></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="add-jco-library-to-system-path">Add JCo Library To System Path<a class="hash-link" href="#add-jco-library-to-system-path" title="Direct link to heading">â€‹</a></h4><p>Open the file <code>javadoc/installation.html</code> from the extracted JCo archive and follow the installation instructions.
Essentially, you have to add the directory where you extracted the JCo archive to one system environment variable.
The variable name depends on your operating system.</p><ul><li>For Windows, add the directory which contains the downloaded JCo archive to the system environment variable <code>PATH</code>.</li><li>For macOS, add the directory which contains the downloaded JCo archive to the system environment variable <code>DYLD_LIBRARY_PATH</code>.</li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">TomEE</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Spring</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>If you face an exception like the following ones, then you must configure the classpath to contain the <code>sapjco3.jar</code> file to as shown hereafter.</p><ul><li><code>Could not initialize class com.sap.conn.jco.JCo</code></li><li><code>java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path</code></li></ul><p>To overcome these exceptions, configure the classpath via the TomEE Maven plugin.</p><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.tomee.maven</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">tomee-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">classpaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">here-comes-the-path-to/sapjco3.jar</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">classpaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>For Spring-based apps, we&#x27;ll use a standalone Tomcat later on.
For this purpose, setting the operating system-specific environment variable suffices.</p></div></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="create-a-destination-file">Create a Destination File<a class="hash-link" href="#create-a-destination-file" title="Direct link to heading">â€‹</a></h4><ul><li>Create a file <code>&lt;destination-name&gt;.jcoDestination</code> where you replace <code>&lt;destination-name&gt;</code> with the name of the destination.</li><li>Add the following properties to the file:</li></ul><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">jco.client.ashost=&lt;hostname&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jco.client.client=&lt;sap-client&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jco.client.sysnr=&lt;instance-number&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jco.client.user=&lt;user&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jco.client.passwd=&lt;password&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Replace every <code>&lt;placeholder&gt;</code> with the respective value.</p></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="point-jco-to-your-destination-file">Point JCo To Your Destination File<a class="hash-link" href="#point-jco-to-your-destination-file" title="Direct link to heading">â€‹</a></h4><p>JCo considers the system property <code>jco.destinations.dir</code> to look for destination files.
The property value must be the directory where the destination file resides.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Note that the system property must point to the directory, not to the Destination file.</p></div></div><p>You can set the property in your Java code like so:</p><div class="codeBlockContainer_K1bP language-java theme-code-block"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;jco.destinations.dir&quot;, &quot;here-comes-the-directory-with-destination&quot;);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Alternatively, you can pass the system property to the JVM via configuration in different ways depending on the chosen archetype.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">TomEE</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Spring</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>You can see the system property <code>jco.destinations.dir</code> via the Maven plugin configuration as follows:</p><div class="codeBlockContainer_K1bP language-xml theme-code-block"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.tomee.maven</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">tomee-maven-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">args</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">-Djco.destinations.dir=here-comes-the-directory-with-the-destination</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">args</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>You can see the system property <code>jco.destinations.dir</code> via the environment variable <code>CATALINA_OPTS</code>.
Example value: <code>-Djco.destinations.dir=here-comes-the-directory-with-the-destination</code></p></div></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="set-destination-as-environment-variable">Set Destination as Environment Variable<a class="hash-link" href="#set-destination-as-environment-variable" title="Direct link to heading">â€‹</a></h4><p>To let your destination be found in the local environment you need to supply an environment variable <code>destinations</code> on your local machine:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Mac</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>You can set the <code>destinations</code> environment variable by the following command:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">set destinations=[{name: &quot;destinationName&quot;}]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>You can set the destinations&#x27; environment variable by the following command:</p><div class="codeBlockContainer_K1bP theme-code-block"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">export destinations=[{name: &quot;destinationName&quot;}]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="launch-app-on-localhost">Launch App on Localhost<a class="hash-link" href="#launch-app-on-localhost" title="Direct link to heading">â€‹</a></h4><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">TomEE</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Spring</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>Build your app with <code>mvn clean package</code> and launch it with <code>mvn tomee:run</code>.
Then, access the HTTP endpoint exposed by your app.</p></div><div role="tabpanel" hidden=""><ul><li>Build your app with <code>mvn clean package</code>.</li><li>Download Tomcat from its <a href="http://mirror.23media.de/apache/tomcat/tomcat-8/v8.5.30/bin/" target="_blank" rel="noopener noreferrer">official page</a></li><li>Extract the archive and copy it to a <code>tomcat</code> folder</li><li>Copy the war file into the <code>webapps</code> folder in the <code>tomcat</code> folder</li><li>From a terminal, navigate to tomcat/bin folder and execute<ul><li><code>catalina.bat run</code> (on Windows)</li><li><code>catalina.sh run</code> (on Unix-based systems)</li></ul></li><li>Open <code>http://localhost:8080/&lt;appname&gt;&gt;-application/&lt;rest-endpoint&gt;</code> to invoke your app</li></ul></div></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="websocket-rfc-client-communication">WebSocket RFC Client Communication<a class="hash-link" href="#websocket-rfc-client-communication" title="Direct link to heading">â€‹</a></h3><p>JCo supports RFC calls from the client-side via web sockets as of version <code>3.1.2</code>.
For this scenario, a certain configuration is required within the SAP ERP system as well as new RFC destination properties must be configured.
Download the JCo package from <a href="https://support.sap.com/jco" target="_blank" rel="noopener noreferrer">JCo product website</a> and check out the contained release notes for further details.</p></div><div class="margin-vert--xl"><div class="docsRatingContainerBottom_3H3P"><div class="docsRating">Rate this page<svg class="i_negative" alt="Dislike" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 10.15625 6 C 8.746094 6 7.515625 6.996094 7.21875 8.375 L 5.0625 18.375 C 4.667969 20.222656 6.113281 22 8 22 L 13.75 22 L 13.5625 22.75 C 13.359375 22.90625 13.230469 22.972656 12.9375 23.375 C 12.46875 24.015625 12 25.007813 12 26.34375 C 12 27.769531 13.289063 29 14.90625 29 L 15.3125 29 L 15.625 28.71875 L 22.40625 22 L 27 22 L 27 6 Z M 10.15625 8 L 21 8 L 21 20.59375 L 14.59375 26.90625 C 14.171875 26.824219 14 26.652344 14 26.34375 C 14 25.441406 14.273438 24.882813 14.53125 24.53125 C 14.789063 24.179688 14.96875 24.09375 14.96875 24.09375 L 15.3125 23.90625 L 15.4375 23.5 L 16.03125 21.25 L 16.34375 20 L 8 20 C 7.339844 20 6.894531 19.425781 7.03125 18.78125 L 9.15625 8.78125 C 9.257813 8.3125 9.679688 8 10.15625 8 Z M 23 8 L 25 8 L 25 20 L 23 20 Z"></path></svg><svg class="i_positive" alt="Like" xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" fill="currentColor" viewBox="0 0 32 32"><path d="M 16.6875 3 L 16.375 3.28125 L 9.59375 10 L 5 10 L 5 26 L 21.84375 26 C 23.253906 26 24.484375 25.003906 24.78125 23.625 L 26.9375 13.625 C 27.332031 11.777344 25.886719 10 24 10 L 18.25 10 L 18.4375 9.25 C 18.640625 9.09375 18.769531 9.027344 19.0625 8.625 C 19.53125 7.984375 20 6.992188 20 5.65625 C 20 4.230469 18.710938 3 17.09375 3 Z M 17.40625 5.09375 C 17.828125 5.175781 18 5.347656 18 5.65625 C 18 6.558594 17.726563 7.117188 17.46875 7.46875 C 17.210938 7.820313 17.03125 7.90625 17.03125 7.90625 L 16.6875 8.09375 L 16.5625 8.5 L 15.96875 10.75 L 15.65625 12 L 24 12 C 24.660156 12 25.105469 12.574219 24.96875 13.21875 L 22.84375 23.21875 C 22.742188 23.6875 22.320313 24 21.84375 24 L 11 24 L 11 11.40625 Z M 7 12 L 9 12 L 9 24 L 7 24 Z"></path></svg></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/SAP/cloud-sdk/edit/main/docs/java/features/bapi-and-rfc/overview.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_1szQ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-01-07T09:27:46.000Z">1/7/2022</time></b> by <b>Junjie Tang</b></span></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-bapi-what-is-an-rfc-module" class="table-of-contents__link toc-highlight">What Is A BAPI? What Is An RFC Module?</a></li><li><a href="#technical-overview" class="table-of-contents__link toc-highlight">Technical Overview</a></li><li><a href="#call-a-bapi-in-an-sap-abap-system" class="table-of-contents__link toc-highlight">Call a BAPI in an SAP ABAP system</a><ul><li><a href="#implement-an-example-bapi-call" class="table-of-contents__link toc-highlight">Implement an Example BAPI Call</a></li></ul></li><li><a href="#configure--deploy-to-a-cloud-foundry-environment" class="table-of-contents__link toc-highlight">Configure &amp; Deploy to a Cloud Foundry Environment</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#set-up-app-router" class="table-of-contents__link toc-highlight">Set Up App Router</a></li><li><a href="#setup-cloud-connector-for-sap-s4hana-on-premise-access" class="table-of-contents__link toc-highlight">Setup Cloud Connector for SAP S/4HANA On-Premise access</a></li><li><a href="#setup-destination" class="table-of-contents__link toc-highlight">Setup Destination</a></li><li><a href="#deploy-to-the-sap-business-technology-platform-cloud-foundry-environment" class="table-of-contents__link toc-highlight">Deploy to the SAP Business Technology Platform, Cloud Foundry Environment</a></li><li><a href="#call-the-test-app" class="table-of-contents__link toc-highlight">Call the Test App</a></li></ul></li><li><a href="#advanced-bapi-calls" class="table-of-contents__link toc-highlight">Advanced BAPI Calls</a><ul><li><a href="#use-of-api-for-table-parameters-of-a-bapirequest" class="table-of-contents__link toc-highlight">Use of API for Table Parameters of a BapiRequest</a></li><li><a href="#recursive-tables-and-structures-in-parameters-of-a-bapirequest" class="table-of-contents__link toc-highlight">Recursive Tables and Structures in Parameters of a BapiRequest</a></li></ul></li><li><a href="#clearing-the-java-connector-cache" class="table-of-contents__link toc-highlight">Clearing the Java Connector Cache</a></li><li><a href="#boundary-conditions-and-edge-cases" class="table-of-contents__link toc-highlight">Boundary Conditions and Edge Cases</a><ul><li><a href="#jco-classes-not-found-at-runtime" class="table-of-contents__link toc-highlight">JCo Classes Not Found at Runtime</a></li><li><a href="#dependency-conflicts-at-runtime" class="table-of-contents__link toc-highlight">Dependency Conflicts at Runtime</a></li><li><a href="#subscriber-tenant-is-not-found-at-runtime" class="table-of-contents__link toc-highlight">Subscriber Tenant Is Not Found at Runtime</a></li><li><a href="#decoration-of-rfc-destinations" class="table-of-contents__link toc-highlight">Decoration of RFC Destinations</a></li><li><a href="#local-deployment" class="table-of-contents__link toc-highlight">Local Deployment</a></li><li><a href="#websocket-rfc-client-communication" class="table-of-contents__link toc-highlight">WebSocket RFC Client Communication</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/overview/overview-cloud-sdk">SAP Cloud SDK overview</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/getting-started">SAP Cloud SDK for Java</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/getting-started">SAP Cloud SDK for JS</a></li><li class="footer__item"><a href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Additional Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://developers.sap.com/topics/cloud-sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Developers Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://community.sap.com/topics/cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK Community Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK on SAP Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Package Repositories</div><ul class="footer__items"><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK for JavaScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap%2Fcloud-sdk-vdm-*" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Typescript client libraries for SAP S/4HANA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SAP Cloud SDK for Java<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer></div>
<script src="/cloud-sdk/assets/js/runtime~main.b6d62671.js"></script>
<script src="/cloud-sdk/assets/js/main.595d7133.js"></script>
</body>
</html>