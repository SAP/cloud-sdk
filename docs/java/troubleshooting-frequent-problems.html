<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs-java docs-version-current docs-doc-page docs-doc-id-troubleshooting-frequent-problems" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Troubleshooting SDK Java | SAP Cloud SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sap.github.io/cloud-sdk/docs/java/troubleshooting-frequent-problems"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-java-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-java-current"><meta data-rh="true" property="og:title" content="Troubleshooting SDK Java | SAP Cloud SDK"><meta data-rh="true" name="description" content="This article is a collection of frequently occurring symptoms and a short guidance on how to address them."><meta data-rh="true" property="og:description" content="This article is a collection of frequently occurring symptoms and a short guidance on how to address them."><meta data-rh="true" name="keywords" content="sap,cloud,sdk,debugging,FAQ,common mistakes,problems"><link data-rh="true" rel="icon" href="/cloud-sdk/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sap.github.io/cloud-sdk/docs/java/troubleshooting-frequent-problems"><link data-rh="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/troubleshooting-frequent-problems" hreflang="en"><link data-rh="true" rel="alternate" href="https://sap.github.io/cloud-sdk/docs/java/troubleshooting-frequent-problems" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://E4A268JVO0-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Troubleshooting","item":"https://sap.github.io/cloud-sdk/docs/java/troubleshooting-frequent-problems"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="SAP Cloud SDK" href="/cloud-sdk/opensearch.xml"><link rel="stylesheet" href="/cloud-sdk/assets/css/styles.c8db7810.css">
<script src="/cloud-sdk/assets/js/runtime~main.39483e28.js" defer="defer"></script>
<script src="/cloud-sdk/assets/js/main.a0515415.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/cloud-sdk/img/logo.svg"><link rel="preload" as="image" href="/cloud-sdk/img/logo-dark.svg"><link rel="preload" as="image" href="https://maven-badges.herokuapp.com/maven-central/com.sap.cloud.sdk/sdk-bom/badge.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cloud-sdk/"><div class="navbar__logo"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SAP Cloud SDK</b></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Overview</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docspluginid="docs-java" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">â˜• Java</a><a class="navbar__item navbar__link" docspluginid="docs-js" href="/cloud-sdk/docs/js/overview">ðŸš€ JavaScript</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://sap.github.io/ai-sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SAP Cloud SDK for AI<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/cloud-sdk/docs/java/troubleshooting-frequent-problems">v5</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cloud-sdk/docs/java/troubleshooting-frequent-problems">v5</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/java/v4/troubleshooting-frequent-problems">v4</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/java/v3/troubleshooting-frequent-problems">v3</a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/java/features/odata/overview"><span title="Features" class="categoryLinkLabel_W154">Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/java/environments/overview"><span title="Environments" class="categoryLinkLabel_W154">Environments</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/java/guides/5.0-upgrade-steps"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cloud-sdk/docs/java/video/video-tutorial-about-getting-started-with-sap-cloud-sdk-for-java"><span title="Video Tutorials" class="categoryLinkLabel_W154">Video Tutorials</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/cloud-sdk/docs/java/troubleshooting-frequent-problems"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/release-policy"><span title="Release Policy" class="linkLabel_WmDU">Release Policy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/release-notes"><span title="Release Notes" class="linkLabel_WmDU">Release Notes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/support"><span title="Support" class="linkLabel_WmDU">Support</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/frequently-asked-questions"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="/cloud-sdk/java-api/v5/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="API Reference" class="linkLabel_WmDU">API Reference</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://central.sonatype.com/search?q=g:com.sap.cloud.sdk*&amp;smo=true" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Maven Central" class="linkLabel_WmDU">Maven Central</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cloud-sdk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Troubleshooting</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting SDK Java</h1></header><span class=""><a href="https://maven-badges.herokuapp.com/maven-central/com.sap.cloud.sdk/sdk-bom"><img alt="maven central" src="https://maven-badges.herokuapp.com/maven-central/com.sap.cloud.sdk/sdk-bom/badge.svg"></a></span>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="solving-common-problems">Solving Common Problems<a href="#solving-common-problems" class="hash-link" aria-label="Direct link to Solving Common Problems" title="Direct link to Solving Common Problems" translate="no">â€‹</a></h2>
<ul>
<li class="">Check if you&#x27;re using the latest <a class="" href="/cloud-sdk/docs/java/release-notes">SAP Cloud SDK version</a>.
We release significant updates bi-weekly.</li>
<li class="">Try searching on <a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="">Stack Overflow</a>
You can <a href="https://stackoverflow.com/questions" target="_blank" rel="noopener noreferrer" class="">ask there questions</a> as well by tagging it with <code>sap-cloud-sdk</code></li>
<li class="">Check this page for known solutions for most frequent problems</li>
<li class="">Welcome to our <a class="" href="/cloud-sdk/docs/overview/get-support">awesome support</a> if nothing else helps.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tenant-or-principal-not-available">Tenant or Principal Not Available<a href="#tenant-or-principal-not-available" class="hash-link" aria-label="Direct link to Tenant or Principal Not Available" title="Direct link to Tenant or Principal Not Available" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Tenant or principal information is not available or an incorrect tenant is used.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>There was no JWT in the authorization header.</p>
</li>
<li class="">
<p>The SAP Cloud SDK components are not registered as listeners on incoming requests.
See <a class="" href="/cloud-sdk/docs/java/getting-started#framework-integration">Framework Support</a>.</p>
</li>
<li class="">
<p>An operation is performed in an asynchronous manner without propagating the <code>ThreadContext</code>.
See <a class="" href="/cloud-sdk/docs/java/features/multi-tenancy/thread-context#running-asynchronous-operations">Running Asynchronous Operations</a>.</p>
</li>
<li class="">
<p>A BAPI/RFC call was attempted while using resilience or multithreading capabilities of the SAP Cloud SDK.
See <a class="" href="/cloud-sdk/docs/java/features/bapi-and-rfc/overview#subscriber-tenant-is-not-found-at-runtime">Subscriber Tenant Is Not Found at Runtime</a></p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="provider-instead-of-subscriber-account-used">Provider Instead of Subscriber Account Used<a href="#provider-instead-of-subscriber-account-used" class="hash-link" aria-label="Direct link to Provider Instead of Subscriber Account Used" title="Direct link to Provider Instead of Subscriber Account Used" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Destinations are returned only for the provider account, but not for a subscriber account.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">The SAP Cloud SDK defaults back to the provider account if no tenant information is available.
See the above section on <a href="#tenant-or-principal-not-available" class="">Tenant or Principal not available</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="connecting-to-an-erp-system-fails">Connecting to an ERP System fails<a href="#connecting-to-an-erp-system-fails" class="hash-link" aria-label="Direct link to Connecting to an ERP System fails" title="Direct link to Connecting to an ERP System fails" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms:</strong></div><div class="admonitionContent_BuS1"><p>The ERP system unexpectedly responds with <em>401: Unauthorized</em> or <em>403: Forbidden</em>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">The SAP Client and Locale headers will be missing if the properties <code>sap-client</code> and <code>sap-locale</code> are not defined.
See <a class="" href="/cloud-sdk/docs/java/features/connectivity/destination-service#connect-to-on-premise-s4hana-system">Connecting to SAP S/4HANA</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="compilation-failures-in-the-generated-odata-classes">Compilation Failures in the Generated OData Classes<a href="#compilation-failures-in-the-generated-odata-classes" class="hash-link" aria-label="Direct link to Compilation Failures in the Generated OData Classes" title="Direct link to Compilation Failures in the Generated OData Classes" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms:</strong></div><div class="admonitionContent_BuS1"><p>Compilation fails due to missing <em>Getters</em> and <em>Setters</em> on entity objects.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">Getters and Setters will be missing if <a href="https://projectlombok.org/" target="_blank" rel="noopener noreferrer" class="">Lombok</a> is not present in the dependency tree of your project.
See <a class="" href="/cloud-sdk/docs/java/features/odata/vdm-generator#using-the-odata-generator">Using the OData Generator</a>.</li>
<li class="">Getters and Setters will be shown red if your IDE does not support Lombok. Hence, install the Lombok plugin for your IDE.<!-- -->
<ul>
<li class="">For IntelliJ, install <a href="https://plugins.jetbrains.com/plugin/6317-lombok" target="_blank" rel="noopener noreferrer" class="">the Lombok plugin</a>.</li>
<li class="">For Eclipse, follow <a href="https://projectlombok.org/setup/eclipse" target="_blank" rel="noopener noreferrer" class="">this guide</a>.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="compilation-or-runtime-failures-after-updating-the-sap-cloud-sdk-version">Compilation or Runtime Failures After Updating the SAP Cloud SDK Version<a href="#compilation-or-runtime-failures-after-updating-the-sap-cloud-sdk-version" class="hash-link" aria-label="Direct link to Compilation or Runtime Failures After Updating the SAP Cloud SDK Version" title="Direct link to Compilation or Runtime Failures After Updating the SAP Cloud SDK Version" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms:</strong></div><div class="admonitionContent_BuS1"><p><code>MethodNotFound</code>, <code>ClassDefNotFound</code> or similar exceptions occur.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">Conflicting dependency versions may cause such issues.
See the section on <a class="" href="/cloud-sdk/docs/java/guides/manage-dependencies#dealing-with-dependency-conflicts">Managing Dependencies</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-java-app-has-good-performance-on-your-local-machine-but-utilizes-100-cpu-on-sap-business-technology-platform-cloud-foundry-environment">The Java App Has Good Performance on Your Local Machine but Utilizes 100% CPU on SAP Business Technology Platform, Cloud Foundry Environment<a href="#the-java-app-has-good-performance-on-your-local-machine-but-utilizes-100-cpu-on-sap-business-technology-platform-cloud-foundry-environment" class="hash-link" aria-label="Direct link to The Java App Has Good Performance on Your Local Machine but Utilizes 100% CPU on SAP Business Technology Platform, Cloud Foundry Environment" title="Direct link to The Java App Has Good Performance on Your Local Machine but Utilizes 100% CPU on SAP Business Technology Platform, Cloud Foundry Environment" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms:</strong></div><div class="admonitionContent_BuS1"><ul>
<li class="">The Java app executes multiple threads and runs with good performance on a powerful local machine.</li>
<li class="">The performance significantly drops after the app is deployed to SAP Business Technology Platform - Cloud Foundry and CPU utilization is always around 100%.</li>
</ul></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">A powerful developer&#x27;s machine usually has much better CPU and memory capacity than a standard cloud instance.</li>
<li class="">SAP BTP, Cloud Foundry environment provides 1/4 of CPU unit per every GB of memory.
With maximum memory per instance of 8 GB, you can get a maximum of 2 CPU cores.</li>
<li class="">All the limitations are subject to change.
Please check the latest details about <a href="https://help.sap.com/viewer/3504ec5ef16548778610c7e89cc0eac3/Cloud/en-US/9c7092c7b7ae4d49bc8ae35fdd0e0b18.html#loio9809fa4f02cb4696baea5c23d6eaac94" target="_blank" rel="noopener noreferrer" class="">SAP BTP, Cloud Foundry Environment quotas and limitations</a></li>
<li class="">If even after achieving the maximum vertical scale of your instance, your app doesn&#x27;t reach the desired performance level, try to optimize it.
Consider scaling it horizontally or different custom solutions to boost performance where it lags.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="no-such-method-comgooglegsonjsonparserparsereader"><code>No Such Method: com.google.gson.JsonParser.parseReader</code><a href="#no-such-method-comgooglegsonjsonparserparsereader" class="hash-link" aria-label="Direct link to no-such-method-comgooglegsonjsonparserparsereader" title="Direct link to no-such-method-comgooglegsonjsonparserparsereader" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>In your application log you find exception <code>java.lang.NoSuchMethodError: com.google.gson.JsonParser.parseReader(Lcom/google/gson/stream/JsonReader;)Lcom/google/gson/JsonElement;</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">Your project uses the <a href="https://github.com/google/gson" target="_blank" rel="noopener noreferrer" class="">GSON library</a> in version <code>2.8.5</code> or earlier.
This could happen if you do not use the SAP Cloud SDK Bill-of-Material.
To solve this issue, update GSON to at least version <code>2.8.6</code>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="class-not-found-jsonencoder"><code>Class Not Found: JsonEncoder</code><a href="#class-not-found-jsonencoder" class="hash-link" aria-label="Direct link to class-not-found-jsonencoder" title="Direct link to class-not-found-jsonencoder" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Your application does not start and fails with the error message <code>&quot;Could not create component [encoder] of type [com.sap.hcp.cf.logback.encoder.JsonEncoder] java.lang.ClassNotFoundException: com.sap.hcp.cf.logback.encoder.JsonEncoder&quot;</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">Your project uses the <a href="http://logback.qos.ch/" target="_blank" rel="noopener noreferrer" class="">Logback library</a> for application logging.
The required dependency <code>com.sap.hcp.cf.logging:cf-java-logging-support-logback</code> is missing.
To solve this issue, add this dependency to your project.
Also, use the SAP Cloud SDK Bill-Of-Material in your POM to manage the version of this dependency.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="odata-request-rejected-by-or-failed-in-odata-service">OData Request Rejected by or Failed in OData Service<a href="#odata-request-rejected-by-or-failed-in-odata-service" class="hash-link" aria-label="Direct link to OData Request Rejected by or Failed in OData Service" title="Direct link to OData Request Rejected by or Failed in OData Service" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Your OData request returns with a 400 (bad request) or 500 (server error) HTTP code.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>The service may not be implemented correctly or deviate from the OData standard / conventions.</p>
<p>Check the request being sent out (<a class="" href="/cloud-sdk/docs/java/guides/logging-overview">looking at HTTP logs</a>) against the <a href="https://www.odata.org/documentation/" target="_blank" rel="noopener noreferrer" class="">OData documentation</a>.
If the service deviates from OData conventions, try using the more <a class="" href="/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client">low-level generic OData client</a> which gives you more flexibility to adapt requests.</p>
</li>
<li class="">
<p>The SAP Cloud SDK may send an incorrect OData request.</p>
<p>Verify that the request the SAP Cloud SDK sends out (<a class="" href="/cloud-sdk/docs/java/guides/logging-overview">looking at HTTP logs</a>) does not conform to the <a href="https://www.odata.org/documentation/" target="_blank" rel="noopener noreferrer" class="">OData documentation</a>.
In that case please <a href="https://github.com/SAP/cloud-sdk-java/issues" target="_blank" rel="noopener noreferrer" class="">raise an issue on our GitHub</a>.</p>
<p>In addition, you can leverage the <a class="" href="/cloud-sdk/docs/java/features/odata/generic-untyped-odata-client">low-level generic OData client</a> which gives you more flexibility to adapt requests to overcome potential issues with the typed APIs.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="javalangillegalargumentexception-jclass-name-empty"><code>java.lang.IllegalArgumentException: JClass name empty</code><a href="#javalangillegalargumentexception-jclass-name-empty" class="hash-link" aria-label="Direct link to javalangillegalargumentexception-jclass-name-empty" title="Direct link to javalangillegalargumentexception-jclass-name-empty" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>While generating a type-safe API client for an OData service, you encounter the exception message <code>&quot;java.lang.IllegalArgumentException: JClass name empty&quot;</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>The service specification (<code>EDMX</code> file) contains an entity that is named <code>Type</code>, <code>Type_</code>, or just <code>_</code>.</p>
<p>By default, both the OData v2 and v4 VDM generators use the <code>S4HanaNamingStrategy</code> to generate valid Java names from the given service specification.
Hereby, it removes pre- and suffixes that are commonly used in SAP service specifications, such as the suffixes <code>Type</code> and <code>_</code> for entities.
In special cases, where an entity name consist of those suffixes only, that logic leads to the generation of an empty class name, which, in turn, then results in the observed exception.</p>
<p>To solve that issue, you can change the naming strategy used by the generator.
The SAP Cloud SDK additionally includes the <code>com.sap.cloud.sdk.datamodel.odata.utility.SimpleNamingStrategy</code> out-of-the-box, which does not perform any unnecessary pre- and suffix removal.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="destinationaccessexception-failed-to-read-authentication-token-the-destination-service-responded-with-an-error-could-not-verify-the-provided-csrf-token-because-your-session-was-not-found"><code>DestinationAccessException: Failed to read authentication token. The destination service responded with an error: Could not verify the provided CSRF token because your session was not found</code><a href="#destinationaccessexception-failed-to-read-authentication-token-the-destination-service-responded-with-an-error-could-not-verify-the-provided-csrf-token-because-your-session-was-not-found" class="hash-link" aria-label="Direct link to destinationaccessexception-failed-to-read-authentication-token-the-destination-service-responded-with-an-error-could-not-verify-the-provided-csrf-token-because-your-session-was-not-found" title="Direct link to destinationaccessexception-failed-to-read-authentication-token-the-destination-service-responded-with-an-error-could-not-verify-the-provided-csrf-token-because-your-session-was-not-found" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>When using a <code>Destination</code> you encounter an exception message like <code>&quot;DestinationAccessException: Failed to read authentication token. The destination service responded with an error: Could not verify the provided CSRF token because your session was not found&quot;</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>The Destination Service on Cloud Foundry is unable to generate an authentication token that will be used in later requests.
In the service configuration, the destination entry references a token service endpoint that could not communicate correctly with the Destination Service.</p>
<p>To solve that issue, please check every field in the destination configuration for valid input.
Please find the official <a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/42a0e6b966924f2e902090bdf435e1b2.html" target="_blank" rel="noopener noreferrer" class="">documentation from the Destination Service</a> for more details.
The value for field &quot;Token Service URL&quot; may require the full service endpoint path, including e.g. <code>/oauth/token</code>.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sslhandshakeexception-pkix-path-building-failed-sunsecurityprovidercertpathsuncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target"><code>SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code><a href="#sslhandshakeexception-pkix-path-building-failed-sunsecurityprovidercertpathsuncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target" class="hash-link" aria-label="Direct link to sslhandshakeexception-pkix-path-building-failed-sunsecurityprovidercertpathsuncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target" title="Direct link to sslhandshakeexception-pkix-path-building-failed-sunsecurityprovidercertpathsuncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>When accessing an On-Premise system from your local machine the HTTP client is unable to establish a secure connection to the target server.
You may experience the follow-up error message: <code>&quot;ODataConnectionException: Connection was aborted.&quot;</code></p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>To validate the SSL connection your Java runtime would need to check the chain of trusted certificates.
Please review your local Java trust store.</p>
<p>To solve the issue there are many tutorials on how to register certificates.
However, if you require a quick solution for your local development environmment, you can add a special flag to your <code>&quot;destinations&quot;</code> environment variable: <code>&quot;TrustAll&quot; : &quot;true&quot;</code>.
This will disable the certificate validation on your local runtime.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="defaulthttpclientfactory-not-a-subtype-error"><code>DefaultHttpClientFactory not a subtype</code> Error<a href="#defaulthttpclientfactory-not-a-subtype-error" class="hash-link" aria-label="Direct link to defaulthttpclientfactory-not-a-subtype-error" title="Direct link to defaulthttpclientfactory-not-a-subtype-error" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Applications that rely on the SAP Java Buildpack, which is always true for application that require JCo, may throw the following exception when trying to access a RFC destination:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name namespace" style="opacity:0.7">java</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">util</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">ServiceConfigurationError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name namespace" style="opacity:0.7">com</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">sap</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">cloud</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">security</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">client</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">HttpClientFactory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name namespace" style="opacity:0.7">com</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">sap</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">cloud</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">security</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">client</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">DefaultHttpClientFactory</span><span class="token plain"> not a subtype</span><br></span></code></pre></div></div></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">This issue is typically caused by a dependency scope conflict and can be solved by following <a class="" href="/cloud-sdk/docs/java/guides/manage-dependencies#avoiding-scope-conflicts">our guidance</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="incoming-requests-fail-because-a-request-header-is-too-large">Incoming Requests Fail Because a Request Header is Too Large<a href="#incoming-requests-fail-because-a-request-header-is-too-large" class="hash-link" aria-label="Direct link to Incoming Requests Fail Because a Request Header is Too Large" title="Direct link to Incoming Requests Fail Because a Request Header is Too Large" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>Your app is responding with 400 codes and you see a log entry <code>Request header is too large</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">In some cases you may need to configure your app/server to accept larger request headers.
Refer to <a href="https://www.baeldung.com/spring-boot-max-http-header-size#overview-1" target="_blank" rel="noopener noreferrer" class="">this guide</a> on how to achieve this for Spring based applications.
In case you are deploying a WAR file with the SAP Java Buildpack refer to <a href="https://help.sap.com/docs/BTP/65de2977205c403bbc107264b8eccf4b/79c039ab43b946a7b50c5d0326a3b40b.html#customizing-the-sap-java-buildpack-defaults" target="_blank" rel="noopener noreferrer" class="">this documentation</a>.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="destination-lookup-fails-because-a-request-field-is-too-large">Destination Lookup Fails Because a Request Field is Too Large<a href="#destination-lookup-fails-because-a-request-field-is-too-large" class="hash-link" aria-label="Direct link to Destination Lookup Fails Because a Request Field is Too Large" title="Direct link to Destination Lookup Fails Because a Request Field is Too Large" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>When your application tries to fetch a destination, for some of the users you see: <code>Destination service returned HTTP status 431 (Request Header Fields Too Large)</code>.</p></div></div>
<p><strong>Possible causes:</strong></p>
<ul>
<li class="">
<p>The SAP Cloud SDKâ€™s default <code>FORWARD_USER_TOKEN</code> strategy forwards the <em>entire</em> token, including all group claims, in the <code>Authorization</code> header when performing a destination lookup.
If the token is too large, it can exceed the platformâ€™s header size limit and trigger an HTTP 431 error.</p>
<p>You may try out other strategies, such as the now-deprecated <code>LOOKUP_THEN_EXCHANGE</code> which can appropriately exchange the token for a more compact one at the cost of performance overhead.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="token-retrieval-fails-with-401">Token Retrieval Fails with <code>401</code><a href="#token-retrieval-fails-with-401" class="hash-link" aria-label="Direct link to token-retrieval-fails-with-401" title="Direct link to token-retrieval-fails-with-401" translate="no">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>Symptoms</strong></div><div class="admonitionContent_BuS1"><p>While requesting authentication tokens for destination or connectivity, an error message containing <code>Http status code 401</code> and/or <code>Bad Credentials</code> is thrown.</p></div></div>
<p><strong>Possible Causes</strong></p>
<ul>
<li class="">You might have not configured your SaaS dependencies correctly.
Most likely, one of your dependencies is missing.
For more information on how to configure your SaaS registry, please refer to one of the following guides: <a href="https://help.sap.com/docs/btp/sap-business-technology-platform/register-multitenant-application-to-sap-saas-provisioning-service" target="_blank" rel="noopener noreferrer" class="">for applications not using DwC or IAS</a>, <a href="https://pages.github.tools.sap/deploy-with-confidence/solar-system/configuration/landscape-configuration/orbits-directory/?#saas-registry-configuration" target="_blank" rel="noopener noreferrer" class="">for DwC users</a>, <a href="https://int.controlcenter.ondemand.com/index.html#/knowledge_center/articles/7961284168e848efb9e0462e38b4075d" target="_blank" rel="noopener noreferrer" class="">for IAS-based applications</a>(SAP internal).</li>
<li class="">If your SaaS dependencies are set up correctly and you still get the above error, make sure that your service binding credentials are valid.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SAP/cloud-sdk/edit/main/docs-java/troubleshooting.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cloud-sdk/docs/java/video/video-tutorial-about-calling-odata-v4-services-via-type-safe-client"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Use OData v4 Client</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cloud-sdk/docs/java/release-policy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release Policy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#solving-common-problems" class="table-of-contents__link toc-highlight">Solving Common Problems</a></li><li><a href="#tenant-or-principal-not-available" class="table-of-contents__link toc-highlight">Tenant or Principal Not Available</a></li><li><a href="#provider-instead-of-subscriber-account-used" class="table-of-contents__link toc-highlight">Provider Instead of Subscriber Account Used</a></li><li><a href="#connecting-to-an-erp-system-fails" class="table-of-contents__link toc-highlight">Connecting to an ERP System fails</a></li><li><a href="#compilation-failures-in-the-generated-odata-classes" class="table-of-contents__link toc-highlight">Compilation Failures in the Generated OData Classes</a></li><li><a href="#compilation-or-runtime-failures-after-updating-the-sap-cloud-sdk-version" class="table-of-contents__link toc-highlight">Compilation or Runtime Failures After Updating the SAP Cloud SDK Version</a></li><li><a href="#the-java-app-has-good-performance-on-your-local-machine-but-utilizes-100-cpu-on-sap-business-technology-platform-cloud-foundry-environment" class="table-of-contents__link toc-highlight">The Java App Has Good Performance on Your Local Machine but Utilizes 100% CPU on SAP Business Technology Platform, Cloud Foundry Environment</a></li><li><a href="#no-such-method-comgooglegsonjsonparserparsereader" class="table-of-contents__link toc-highlight"><code>No Such Method: com.google.gson.JsonParser.parseReader</code></a></li><li><a href="#class-not-found-jsonencoder" class="table-of-contents__link toc-highlight"><code>Class Not Found: JsonEncoder</code></a></li><li><a href="#odata-request-rejected-by-or-failed-in-odata-service" class="table-of-contents__link toc-highlight">OData Request Rejected by or Failed in OData Service</a></li><li><a href="#javalangillegalargumentexception-jclass-name-empty" class="table-of-contents__link toc-highlight"><code>java.lang.IllegalArgumentException: JClass name empty</code></a></li><li><a href="#destinationaccessexception-failed-to-read-authentication-token-the-destination-service-responded-with-an-error-could-not-verify-the-provided-csrf-token-because-your-session-was-not-found" class="table-of-contents__link toc-highlight"><code>DestinationAccessException: Failed to read authentication token. The destination service responded with an error: Could not verify the provided CSRF token because your session was not found</code></a></li><li><a href="#sslhandshakeexception-pkix-path-building-failed-sunsecurityprovidercertpathsuncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target" class="table-of-contents__link toc-highlight"><code>SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></a></li><li><a href="#defaulthttpclientfactory-not-a-subtype-error" class="table-of-contents__link toc-highlight"><code>DefaultHttpClientFactory not a subtype</code> Error</a></li><li><a href="#incoming-requests-fail-because-a-request-header-is-too-large" class="table-of-contents__link toc-highlight">Incoming Requests Fail Because a Request Header is Too Large</a></li><li><a href="#destination-lookup-fails-because-a-request-field-is-too-large" class="table-of-contents__link toc-highlight">Destination Lookup Fails Because a Request Field is Too Large</a></li><li><a href="#token-retrieval-fails-with-401" class="table-of-contents__link toc-highlight">Token Retrieval Fails with <code>401</code></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">SAP Cloud SDK for Java</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://central.sonatype.com/search?q=g:com.sap.cloud.sdk*&amp;smo=true" target="_blank" rel="noopener noreferrer" class="footer__link-item">Maven<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/support">Support</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">SAP Cloud SDK for JavaScript</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/tutorials/getting-started/introduction">Tutorials</a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">npm<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SAP/cloud-sdk-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SAP-samples/cloud-sdk-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample repository<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/support">Support</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Additional Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://community.sap.com/topics/cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK Community Page<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://answers.sap.com/tags/73555000100800000895" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK on SAP Answers<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK on SAP Help<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://sap.github.io/ai-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK for AI<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer></div>
</body>
</html>